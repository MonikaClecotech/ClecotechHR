<main class="page-content">
  <div class="container-fluid">
    <div class="row">
      <div class="form-group col-md-12">
        <h1 class="text-center">Organization App</h1>

        <% if !current_user.time_logs.present? %>
          <%= link_to "Sign In", sign_in_time_logs_path,method: :post, class: "btn btn-info", style: "text-align: right;"%>
        <% elsif current_user.time_logs.last.try(:out_time) == nil %>
            <%= link_to "Sign Out", sign_out_time_logs_path,method: :post, class: "btn btn-info", style: "text-align: right;"%>
        <% else %>
            <%= link_to "Sign In", sign_in_time_logs_path,method: :post, class: "btn btn-info", style: "text-align: right;"%>
        <% end %>
          
          <br/><br/>
          
          <div class="card shadow mb-4">
            <div class="card-header py-3">
              <h6 class="m-0 font-weight-bold text-primary">Employees</h6>
            </div>
            <div class="card-body">
              <div class="table-responsive">
          <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4"><div class="row">
                  <div class="col-sm-12 col-md-6">
                    <div class="dataTables_length" id="dataTable_length">
                      <label>Show <select name="dataTable_length" aria-controls="dataTable" class="custom-select custom-select-sm form-control form-control-sm"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label>
                    </div>
                  </div>
                  <div class="col-sm-12 col-md-6">
                    <div id="dataTable_filter" class="dataTables_filter">
                      <label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="dataTable">
                      </label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Name</th>
                  <th scope="col">Email Id</th>
                  <th scope="col">Employee Id</th>
                </tr>
              </thead>
              
            <% User.all.each_with_index do |user, index| %>
                <tbody>  
                  <tr>
                    <th scope="row"><%= index+1 %></th>
                    <td><%= user.try(:name) %></td>
                    <td><%= user.try(:email) %></td>
                    <td><%= user.try(:employee_id) %></td>
                  </tr>
                </tbody>
            <% end %>
          </table>
          </div>
        </div>
        </div> 
      </div>
    </div>
  </div>              
</main>
    <!-- page-content" -->

